<p align="center" style="padding: 20px;" xmlns="http://www.w3.org/1999/html">
<img src="https://raw.githubusercontent.com/lulupointu/vrouter_website/master/assets/logo_whole.svg" alt="VRouter logo" height="100"/>
</p>

<p align="center">
<a style="padding: 10px;" href="https://vrouter.dev"><img alt="VRouter website" src="https://img.shields.io/badge/doc-online-brightgreen?link=https://vrouter.dev&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAACdAAAAtQHSL0nEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABGJJREFUaIHNmstvG1UUh787xeM7DlGEFKTWIcFOUhUFlCZ2Xn5EaZoEsaGrpPwFSIUFCFQeCx4thSUbJIQq1D0ibhds0qZpS9t4gSh9BcQ/gkpQiC+LxGkeHt8z4xmJn2TJnjn3nPvzpzP3zthqfnV9CcU4jeUAHYD56bsf/tzY2BjwiQPAGM7y45tfN4vZ0envP1eKc81CXNf9/fUzb7wiyHbXAb4BnvN5dWwHqsGp0b9s2ZTiYxa+fdZaduFih1K8awvLzRY2rLkAhTnnVMp6CaV+sQVnBvrGEsnEH5awTg4lz1grH3LeY+uL8lVCJ9a6+nuGbamUobpY8m46ANTMeWtxYHBy5Ik9sfmoKZWFix3K8I4tT36m+K9kTijzGWz1AJWyXlKGqm1MZqB/VETFcd/yPSul0SenAdtGAAx8ZRsIcHxq3E4FPmxIRUhjZLa0KZnLJubT+vsdI1IqL76UHU24IakIaLg6sZbu7R6yzUMZqlfK3q36Z2fPWYcvbQkAhk4IqZy61L5zQNobc8FpwD4ji0V9FVi1JemRUtHmKRURjeTjdDY4DdhPBFBK1itD02N/Wwsq8wGnLrXLr1QFI6ltjPlk/7EDRsRUjvWOJHRizRLWSWrzbcdR72Oj4bkP033dx211laFamfR+3n/8gBEIQGVq4h97YXXWoKyr+MjspKRkQxrgY0ROJTPi6uRjS1gnT7c6DaW1fnAkmxb1RiMa4GMEglAZFe2Hmik3V/Sdx2750YAmRqRUuo9l8wIqvtKp5IMj2S57b8AtPxrQxAiAUcJ1ZXoiNJXcTElEA9V8P9g0yeWivoaEytGevJt0A1PRKe++lMZi0bvdLMb6bYipnByX7VZ3KT9beEYUaKEBAiNyKplcECra0/cPZ7oGbXESGiAwAnIqwwGo5OeKkdEAoREplReOZnKul3xki9Nt3m8SGsBNCQ0QGtnWBUnQ8Ikx6+41P1NISHIpZb6QxEEAI5WSXgbu2uJsVOKgAcGIALJeyU1P1PzOSWnUkPVGXYGMSKl09fcMN6LitaXuCWncuFLy7gSZW1AiIKVy8iCV0ddKnmRsDXlv1BXYiJhK314qXlvq3vNdh18WlAhMA8IRASGV3Xd8cdKAkEakVNK93UOu1g+99tSvEhrKsBKGBoBsdW1c9IJRLNvi8jMTKuG6KVnWYFeqPfMJOxBgvrp+B5Ddo9omYlhZLOu5sOPD9ki9uGi1l2hTmZZytUQEIqNyvVLSr7aSoCUiEBEV0xoNiIAItEylZRoQAREA4xDq2r81uHUaEJGRywW9oiDM9f96pexZ1yOJIjECUHNC9EpENCBCIyGoLEdFAyI0AgGpGCPar0kVqZEAVCKlAREbARkVFWFv1BW5ERsVBdcWy571iUxQRW4EwDR7+hFxb9QVi5FK0bvRiEpcNCAmI+BDJSYaEKORA1QMV+OiATEagb1UFEb0C9j/VgvV9dvzq+tLcdcJfc8ulzlfw1j/KdGq/gO/0V+vSHNXPQAAAABJRU5ErkJggg=="></a>
<a style="padding: 10px;" href="https://discord.gg/aVnpYZVx"><img alt="Join our discord" src="https://img.shields.io/discord/837286025775808543?logo=discord&link=https://discord.gg/aVnpYZVx"></a>
<a style="padding: 10px;" href="https://github.com/lulupointu/vrouter"><img alt="Github repo" src="https://img.shields.io/github/stars/lulupointu/vrouter?label=stars&logo=github&link=https://github.com/lulupointu/vrouter"></a>
<a style="padding: 10px;" href="https://pub.dev/packages/vrouter"><img alt="pub package" src="https://img.shields.io/badge/dynamic/json?link=https://pub.dev/packages/vrouter&label=likes&query=%24.score.likeCount&url=https%3A%2F%2Fpub.dev%2Fapi%2Fpackages%2Fvrouter%2Fmetrics&logo=data:image/png;base64,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oAgv3LohwJZfBSATgAOIBSL9dtJN586K+fIrASQCsNvqqmJoDeSbVXuAMb8aQCyAAZBnkRtIt6huEgtw5tcACAUA9xaH5REgqB489+grvP/bTgMgEkACqEPBq7Ee73/30wEIBLAAPAKp9Vj/w6MWoCiABmAgyC7HKaAHKAgQAEwF8ssx7gUAgLwABcCIQLAanwAEICdAA6ATCBdj2wtAAFkBKgCNQLYWlwAMICNAB8ATKJZiEgACpAXGb4HfC5gRaFbiOQ5AAVICx40AoAaAdVgEwACJwNjsdTMAvQFwFY69AA6QCNw2B1AgYJZgEEAA1AUm714/xQGQgyBta74XYADmBKbvXr/JCWBUxgIogJrA9L3rN3znTspUAAdQFZh8cicgANPjABKgIjB9+V/6mZCFMhPAAlQExpj+DHCV0V6ABogF4oNAOEfBSpkI4AFigan/QjoIjBrtBQSAWOAu5nNhF0UXoACUut9/FFgL0AVIAKXufXcCawGyAA2g1L03rMPgKFmACFD65r3QWoAoQAUofb2H9vbFYpEEyAClw3t8By4URYAOUDr8ou/AhSIIGACUXmkFAROAlhAwAmgFATOAFhAwBAhU4HdEGQIEKfDPkz8QZQgQC/wirFO2Svx0mfr7k2fg9WWvGUBp8cJjwjphqcTPlq1Fhpl4BGwQQNI7B5ALcBMA4zsHUAhwEoDjuwdQCXAZIOJ7AFALmBOg0nsB0AgYGWDT+wHQChANCOk9AQAE0Aa09L4AQAJwBXJ4fwBgAY2CUXSvACgBq+ULIBgBbwChCPgDCETAI0AYAj4BghDwChCCgF+AAAQ8A/gX8A3gXcA7gG8B/wCeBQIA8CsQAoBXgSAAfAqEAeBRIBAAfwKhAHgTCAbAl0A4AJ4EAgLwIxASgBeBoAB8CIQF4EEgMAD3AqEBOBcIDsC1QHgAjgUCBHArECKAU4EgAVwKhAngUCBQgNJXPR1uaqfvpLIaODLPSQ34Dvq0mqz+ByXWaMhJ5IvkAAAAAElFTkSuQmCCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA=="></a>
</p>

---


A Flutter package that makes navigation and routing easy.

**Learn more at [vrouter.dev](https://vrouter.dev)**

Here are a few things that this package will make easy:
* Automated web url handling
* Nesting routes
* Transition
* Advanced url naming
* Reacting to route changing
* Customizable pop events
* And much more...

# Index

- [Getting started](#getting-started)
  - [VRouter](#vrouter)
  - [VRouteElements](#vrouteelements)
    - [VWidget](#vwidget)
    - [VGuard](#vguard)
    - [VRouteRedirector](#vrouteredirector)
    - [VNester](#vnester)
    - [VPopHandler](#vpophandler)
  - [Navigation](#navigation)
- [Useful notions](#useful-notions)
  - [Composition](#composition)
    - [Compose VRouteElements](#compose-vrouteelements)
    - [Create custom VRouteElements](#create-custom-vrouteelements)
  - [Path](#path)
    - [Relative path](#relative-path)
    - [Path parameters](#path-parameters)
    - [Path parameters regexp](#path-parameters-regexp)
    - [Aliases](#aliases)
  - [VRedirector](#vredirector)
- [Go Beyond](#go-beyond)
  - [Initial url](#initial-url)
  - [Named route](#named-route)
  - [Transitions](#transitions)
- [Much more](#much-more)


# Getting started

## VRouter

**VRouter** is a widget which handles the navigation, it acts as a MaterialApp but also takes a *routes* arguments.

```dart
VRouter(
 debugShowCheckedModeBanner: false, // VRouter acts as a MaterialApp
 routes: [...], // Put your VRouteElements here
)
```

## VRouteElements

`VRouteElements` are the building blocs of your routes.

Note that they are **not** widgets but the way you use them is *very similar* to widgets.

### VWidget

**VWidget** maps a path to a widget:

```dart
VWidget(path: '/login', widget: LoginScreen())
```

### VGuard

**VGuard** allows you to take actions when the route is accessed/leaved:

```dart
VGuard(
 beforeEnter: (vRedirector) async => , // Triggered when a route in stackedRoutes is first displayed
 beforeUpdate: (vRedirector) async => , // Triggered when a route in stackedRoutes is displayed but changes
 beforeLeave: (vRedirector, _) async => , // Triggered when VGuard is not part of a new route
 stackedRoutes: [...],
);
```

### VRouteRedirector

**VRouteRedirector** redirects from a route to another:
```dart
VRouteRedirector(path: '/old/home', redirectTo: '/home')
```

### VNester

**VNester** are used when you need to nested widgets instead of stacking them:
```dart
VNester(
 path: '/home',
 widgetBuilder: (child) => MyScaffold(body: child), // child will take the value of the widget in nestedRoutes
 nestedRoutes: [
   VWidget(path: 'profile', widget: ProfileScreen()), // path '/home/profile'
   VWidget(path: 'settings', widget: SettingsScreen()), // path '/home/settings'
 ],
)
```

### VPopHandler

**VPopHandler** helps you control pop events:
```dart
VPopHandler(
 onPop: (vRedirector) async =>, // Called when this VRouteElement is popped
 onSystemPop: (vRedirector) async =>, // Called when this VRouteElement is popped by android back button
 stackedRoutes: [...],
)
```

## Navigation

Navigating is easy, just access `VRouter` with `context.vRouter` and navigate:

```dart
context.vRouter.push('/home'); // Pushing a new url
```

# Useful notions

## Composition

`VRouteElement`s are designed like widgets: compose them to create the route you need.

### Compose VRouteElements

To compose `VRouteElement`s, use the **stackedRoutes** attribute (or the **nestedRoutes** attribute for `VNester`):

```dart
// Composing a VGuard and a VWidget
VGuard(
 beforeEnter: (vRedirector) async => !isLoggedIn ? vRedirector.push('/login') : null,
 stackedRoutes: [
   VWidget(path: '/home', widget: HomeScreen()),
 ],
)
```

### Create custom VRouteElements

You can even create your own `VRouteElement`, as you extend `VWidget`. You just need to extends `VRouteElementBuilder`:

```dart
class HomeRoute extends VRouteElementBuilder {
 static String home = '/home';

 @override
 List<VRouteElement> buildRoutes() {
   return [
     VGuard(
       // LoginRoute.login = '/login' for example
       beforeEnter: (vRedirector) async => !isLoggedIn ? vRedirector.push(LoginRoute.login) : null,
       stackedRoutes: [
         VWidget(path: home, widget: HomeScreen()),
       ],
     ),
   ];
 }
}
```

and then use this `VRouteElement` as any other:

```dart
VRouter(
 routes: [
   HomeRoute(),
   ...
 ],
)
```

This can be used to:
 * Separate you different routes in different VRouteElement
 * Create reusable VRouteElement
 * Use `static String` to organise your paths

Note: you often want to use a shared `VNester` in different `VRouteElementBuilder`s, for this specific use case, see [vrouter.dev/Custom VRouteElement And Scaling](https://vrouter.dev/guide/Advanced/Custom%20VRouteElement%20And%20Scaling)

## Path

### Relative path

**Paths can be relative**: if you don’t start your path with `/`. If you use `null`, the path will be the one of the parent:

```dart
VNester(
 path: '/home',
 widgetBuilder: (child) => MyScaffold(body: child),
 nestedRoutes: [
   VWidget(path: null, widget: HomeScreen()), // Matches '/home'
   VWidget(path: 'settings', widget: SettingsScreen()), // Matches '/home/settings'
 ]
)
```

### Path parameters

**Paths can have path parameters**, just use “:” in front of the path parameter’s name:
```dart
VWidget(path: '/user/:id', widget: UserScreen())
```

And access it in your widgets using:
```dart
context.vRouter.pathParameters['id'];
```

### Path parameters regexp

**Path parameters can use regex**, just put the regex in parentheses. This is often used in VRedirector to redirect any unknown route:

```dart
// The path parameter name is “_” and it uses the regex “.+” to match every path
VRouteRedirector(path: ':_(.+)', redirectTo: '/unknown')
```

Note that such a `VRedirector` should be used as your last `route` otherwise it will always be matched.

### Aliases

**Use aliases for multiple paths**:

```dart
// Matches '/settings' and '/other'
VWidget(path: '/settings', aliases: ['/other'], widget: SettingsScreen())
```


## VRedirector

You often want to redirect or stop the current redirection in `VGuard` and `VPopHandler`. For that purpose, you get a `VRedirector`:

```dart
VGuard(
 beforeEnter: (vRedirector) async => !isLoggedIn ? vRedirector.push('/login') : null,
 stackedRoutes: [...],
)
```



# Go Beyond

We have just scratched the surface of what VRouter can do. Here are a few other things which you might like.


## Initial url

Maybe you want to redirect people to a certain part of your app when they first launch it, then use `initialUrl`:

```dart
VRouter(
 initialUrl: '/home',
 routes: [...],
)
```

## Named route

You might have to access a deeply nested VRouteElement and don’t want to have to write the full url. Just give a name to this VRouteElement:
```dart
VWidget(path: 'something', widget: SomeWidget(), name: 'deep')
```

And navigate using `pushNamed`:
```dart
context.vRouter.pushNamed('deep');
```

## Transitions

You can either specify a default transition in `VRouter`, or a custom one in `VWidget` or `VNester`

```dart
VRouter(
 // Default transition
 buildTransition: (animation1, _, child) => FadeTransition(opacity: animation1, child: child),
 routes: [
   // The custom ScaleTransition will play for '/user'
   VWidget(
     path: '/user',
     widget: UsersScreen(),
     buildTransition: (animation1, _, child) => ScaleTransition(scale: animation1, child: child),
   )
   // The default FadeTransition will play for '/settings'
   VStacked(path: '/settings', widget: SettingsScreen()),
 ],
)
```

# Much more

There is so much more that this package can do, check out the example
or have a look at the **[vrouter.dev](https://vrouter.dev)** website for more documentation and more examples.

Also don’t hesitate to [join us on discord](https://discord.gg/aVnpYZVx) !
